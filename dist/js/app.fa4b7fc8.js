(function(t){function e(e){for(var a,i,c=e[0],r=e[1],l=e[2],d=0,m=[];d<c.length;d++)i=c[d],Object.prototype.hasOwnProperty.call(s,i)&&s[i]&&m.push(s[i][0]),s[i]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a]);u&&u(e);while(m.length)m.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],a=!0,c=1;c<n.length;c++){var r=n[c];0!==s[r]&&(a=!1)}a&&(o.splice(e--,1),t=i(i.s=n[0]))}return t}var a={},s={app:0},o=[];function i(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=a,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)i.d(n,a,function(e){return t[e]}.bind(null,a));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],r=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=r;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0032":function(t,e,n){},"010b":function(t,e,n){},"092e":function(t,e,n){"use strict";var a=n("cf96"),s=n.n(a);s.a},"370a":function(t,e,n){},4967:function(t,e,n){"use strict";var a=n("010b"),s=n.n(a);s.a},"4efa":function(t,e,n){},"52a3":function(t,e,n){"use strict";var a=n("b629"),s=n.n(a);s.a},"56d7":function(t,e,n){"use strict";n.r(e);var a={};n.r(a),n.d(a,"ActionLogin",(function(){return Sn})),n.d(a,"ActionMe",(function(){return xn})),n.d(a,"ActionLogout",(function(){return $n})),n.d(a,"ActionCleanLocalStorage",(function(){return Mn}));var s={};n.r(s),n.d(s,"isLoggedIn",(function(){return An})),n.d(s,"getStatus",(function(){return En})),n.d(s,"getUser",(function(){return kn}));var o={};n.r(o),n.d(o,"ActionRegister",(function(){return Dn}));var i={};n.r(i),n.d(i,"getStatusRegister",(function(){return Ln}));n("e260"),n("e6cf"),n("cca6"),n("a79d");var c=n("2b0e"),r=n("73e4"),l=n.n(r);n("2a97");c["a"].use(l.a,{timeout:3e3,progressBar:!0,layout:"topRight"});n("15f5"),n("7051");var u,d=n("683f"),m=n("9949"),p=n.n(m),f=n("3a60"),h=n.n(f),v=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},g=[],_={name:"App",components:{}},b=_,C=n("2877"),y=Object(C["a"])(b,v,g,!1,null,null,null),w=y.exports,S=n("2f62"),x={status:"",access_token:localStorage.getItem("aguaritmo.access_token")||"",user:JSON.parse(localStorage.getItem("aguaritmo.user"))||""},$=n("ade3"),M="AUTH/AUTH_SET_USER",A="AUTH/AUTH_REQUEST",E="AUTH/AUTH_SUCCESS",k="AUTH/LOGOUT",O=(u={},Object($["a"])(u,M,(function(t,e){t.user=e})),Object($["a"])(u,A,(function(t){t.status=!t.status})),Object($["a"])(u,E,(function(t,e){t.access_token=e.token,t.user=e.user})),Object($["a"])(u,k,(function(t){t.status="",t.access_token=""})),u),P=(n("d3b7"),n("96cf"),n("1da1")),j=n("bc3a"),I=n.n(j);I.a.defaults.baseURL="https://aguaeritmo.api.mgetech.com.br/api/v1/academy",I.a.interceptors.request.use(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return n=localStorage.getItem("aguaritmo.access_token"),e.headers={Authorization:"Bearer ".concat(n),ApiKey:"base64:FpGwDyZ/ZNdYHQOkVxjJSUxZqfRGxCks+Sich2Rlldg="},t.abrupt("return",e);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){Promise.reject(t)})),I.a.interceptors.response.use(function(){var t=Object(P["a"])(regeneratorRuntime.mark((function t(e){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.abrupt("return",e);case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),(function(t){401==t.response.status&&(window.location="/#/login"),Promise.reject(t)}));var D=I.a,L=n("8c4f"),R=(n("99af"),n("2909")),T=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("div",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-12 col-md-3"},[n("CardsComponent",{attrs:{type:"Clientes",percentage:"7%",icon:"fa-users",qtd:"250",bg:"#4CAF4F"}})],1),n("div",{staticClass:"col-12 col-md-3"},[n("CardsComponent",{attrs:{type:"Matrículas",percentage:"7%",icon:"fa-users",qtd:"198",bg:"#FB9801"}})],1),n("div",{staticClass:"col-12 col-md-3"},[n("CardsComponent",{attrs:{type:"Mensalidades",percentage:"7%",icon:"fa-users",qtd:"788",bg:"#30CAE3"}})],1),n("div",{staticClass:"col-12 col-md-3"},[n("CardsComponent",{attrs:{type:"Relatórios",percentage:"7%",icon:"fa-users",qtd:"523",bg:"#7872CF"}})],1)])])])])},q=[],U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"sidebar"},[n("SideBarComponent")],1),n("div",{staticClass:"content-right"},[n("div",{staticClass:"navbar"},[n("NabBarConponent")],1),n("div",{staticClass:"pages"},[t._t("slot-pages")],2)])])},N=[],B=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"sidebar"},[t._m(0),n("div",{staticClass:"menu"},[n("ul",[n("li",{class:[{active:t.menuActive(["home"])}]},[n("router-link",{attrs:{to:{name:"home"}}},[n("i",{staticClass:"fa fa-home icon"}),t._v(" Início")])],1),n("li",{class:[{active:t.menuActive(["users","users_show","user_create"])}]},[n("router-link",{attrs:{to:{name:"users"}}},[n("i",{staticClass:"fa fa-users icon"}),t._v(" Usuários")])],1),n("li",{class:[{active:t.menuActive(["modalities","modality_show","modality_create"])}]},[n("router-link",{attrs:{to:{name:"modalities"}}},[n("i",{staticClass:"fa fa-box icon"}),t._v(" Modalidades")])],1),n("li",{class:[{active:t.menuActive(["customers","customer_show","customer_create"])}]},[n("router-link",{attrs:{to:{name:"customers"}}},[n("i",{staticClass:"fa fa-users icon"}),t._v(" Clientes")])],1),n("li",{class:[{active:t.menuActive(["enrollments","enrollment_show","enrollment_create"])}]},[n("router-link",{attrs:{to:{name:"enrollments"}}},[n("i",{staticClass:"fa fa-chart-bar icon"}),t._v(" Matrículas")])],1)])])])},V=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"top"},[n("div",{staticClass:"info"},[n("h3",{staticClass:"name"},[t._v("Academia")])])])}],F=(n("b0c0"),{name:"SideBarComponent",methods:{menuActive:function(t){for(var e in t)if(t[e]==this.$route.name)return!0;return!1}}}),z=F,H=(n("7859"),Object(C["a"])(z,B,V,!1,null,null,null)),J=H.exports,G=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"navbar"},[n("i",{staticClass:"fa fa-list icon-menu"}),n("a",{staticClass:"logout",attrs:{href:""},on:{click:function(e){return e.preventDefault(),t.logout(e)}}},[t._v("Sair "),n("i",{staticClass:"fa fa-sign-out-alt"})])])},Q=[],Z={name:"NabBarConponent",methods:{logout:function(){this.$router.push({name:"login"})}}},Y=Z,K=(n("6c17"),Object(C["a"])(Y,G,Q,!1,null,null,null)),W=K.exports,X={name:"DashBoardComponent",components:{SideBarComponent:J,NabBarConponent:W}},tt=X,et=(n("b422"),Object(C["a"])(tt,U,N,!1,null,"3194a87b",null)),nt=et.exports,at=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"my_card"},[n("div",{staticClass:"content top"},[n("div",{staticClass:"icon",style:{backgroundColor:t.bg}},[n("i",{class:["fa ico",t.icon]})]),n("div",{staticClass:"info"},[n("h3",[t._v(t._s(t.type))]),n("h4",[t._v(t._s(t.qtd))])])]),t._m(0)])},st=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content footer"},[n("p",{staticClass:"info"},[t._v("Lorem ipsun test")])])}],ot={name:"CardsComponent",props:{type:{type:String,default:""},percentage:{type:String,default:""},icon:{type:String,default:""},qtd:{type:String,default:""},bg:{type:String,default:""}}},it=ot,ct=(n("b925"),Object(C["a"])(it,at,st,!1,null,"3455aa85",null)),rt=ct.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"lists"},[n("div",{staticClass:"top mb-5"},[t.noCreate?t._e():n("ButtonSimpleComponent",{attrs:{icon:"fa-plus",label:t.titleCreate,class_btn:"btn-success"},on:{action:t.action_btn_new}}),t.noFilter?t._e():n("InputComponent",{attrs:{label:"",name:"value",id:"value",placeholder:"pesquise aqui",model:t.search}})],1),n("div",{staticClass:"content"},[n("table",{staticClass:"table table-striped my_table"},[n("thead",[n("tr",[t._l(Object.keys(t.columns),(function(e,a){return n("th",{key:a,attrs:{scope:"col"}},[t._v(" "+t._s(t.columns[e])+" ")])})),t._m(0)],2)]),n("tbody",t._l(t.data,(function(e,a){return n("tr",{key:e.id},[t._l(Object.keys(t.columns),(function(s,o){return n("td",{key:o},[n("p",{staticClass:"m-0 my-1"},[t._v(t._s(0==o?a+1:e[s]))])])})),n("td",{attrs:{align:"right"}},[t.noActions?t._e():n("button",{staticClass:"btn btn-primary btn-sm mx-1",on:{click:function(n){return n.preventDefault(),t.functionActions(e)}}},[n("i",{staticClass:"fa fa-plus-circle"})]),t.noShow?t._e():n("button",{staticClass:"btn btn-secondary btn-sm mx-1",on:{click:function(n){return n.preventDefault(),t.show(e.id)}}},[n("i",{staticClass:"fa fa-eye"})]),t.noDestroy?t._e():n("button",{staticClass:"btn btn-danger btn-sm mx-1",on:{click:function(n){return t.destroy(e.id)}}},[n("i",{staticClass:"fa fa-trash"})])])],2)})),0)])]),n("div",{staticClass:"footer mt-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[t.data?n("p",[t._v("Quantidade de registros"),n("span",{staticClass:"badge bg-secondary mx-2"},[t._v(t._s(t.data.length))])]):t._e()])])])])},ut=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("td",{attrs:{align:"right"}},[n("span",{staticClass:"label-actions-list"},[t._v("Ações")])])}],dt=(n("ac1f"),n("841c"),n("5530")),mt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{class:["btn btn-sm "+t.class_btn],on:{click:function(e){return t.action()}}},[n("i",{class:["fa "+t.icon]}),t._v(" "+t._s(t.label)+" ")])])},pt=[],ft={name:"ButtonSimple",props:{class_btn:{type:String,default:""},icon:{type:String,default:""},label:{type:String,default:""}},methods:{action:function(){this.$emit("action")}}},ht=ft,vt=Object(C["a"])(ht,mt,pt,!1,null,null,null),gt=vt.exports,_t=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.label?n("label",{attrs:{for:t.id}},[t._v(t._s(t.label))]):t._e(),"checkbox"===t.input_type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model[t.name],expression:"model[name]"}],staticClass:"form-control",attrs:{name:t.name,id:t.id,placeholder:t.placeholder,type:"checkbox"},domProps:{checked:Array.isArray(t.model[t.name])?t._i(t.model[t.name],null)>-1:t.model[t.name]},on:{change:function(e){var n=t.model[t.name],a=e.target,s=!!a.checked;if(Array.isArray(n)){var o=null,i=t._i(n,o);a.checked?i<0&&t.$set(t.model,t.name,n.concat([o])):i>-1&&t.$set(t.model,t.name,n.slice(0,i).concat(n.slice(i+1)))}else t.$set(t.model,t.name,s)}}}):"radio"===t.input_type?n("input",{directives:[{name:"model",rawName:"v-model",value:t.model[t.name],expression:"model[name]"}],staticClass:"form-control",attrs:{name:t.name,id:t.id,placeholder:t.placeholder,type:"radio"},domProps:{checked:t._q(t.model[t.name],null)},on:{change:function(e){return t.$set(t.model,t.name,null)}}}):n("input",{directives:[{name:"model",rawName:"v-model",value:t.model[t.name],expression:"model[name]"}],staticClass:"form-control",attrs:{name:t.name,id:t.id,placeholder:t.placeholder,type:t.input_type},domProps:{value:t.model[t.name]},on:{input:function(e){e.target.composing||t.$set(t.model,t.name,e.target.value)}}})])},bt=[],Ct={name:"Input",props:{label:{type:String,default:""},input_type:{type:String,default:"text"},name:{type:String,default:""},id:{type:String,default:""},placeholder:{type:String,default:""},model:{type:Object}},data:function(){return{}}},yt=Ct,wt=Object(C["a"])(yt,_t,bt,!1,null,null,null),St=wt.exports,xt={name:"ListsComponent",props:{data:Array,description:String,titleCreate:{type:String,default:"Novo"},columns:{},route_btn:{type:String,default:""},noFilter:{type:Boolean,default:!1},noCreate:{type:Boolean,default:!1},noActions:{type:Boolean,default:!1},noShow:{type:Boolean,default:!1},noDestroy:{type:Boolean,default:!1}},watch:{"search.value":function(){this.$emit("filter",this.search.value)}},data:function(){return{data_list:this.data,search:{value:""}}},mounted:function(){this.listTable()},methods:{listTable:function(){this.data_list=this.data},show:function(t){this.$emit("show",t)},destroy:function(t){this.$emit("destroy",t)},action_btn_new:function(){this.$router.push({name:this.route_btn})},functionActions:function(t){var e=Object(dt["a"])({},t);this.$emit("functionActions",e)}},components:{ButtonSimpleComponent:gt,InputComponent:St}},$t=xt,Mt=(n("52a3"),Object(C["a"])($t,lt,ut,!1,null,"748e4595",null)),At=Mt.exports,Et=(n("bc3a"),{name:"HomeComponent",data:function(){return{clients:[],products:[]}},mounted:function(){this.getData()},methods:{getData:function(){return Object(P["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},components:{DashboardComponent:nt,CardsComponent:rt,ListsComponent:At}}),kt=Et,Ot=(n("f5fa"),Object(C["a"])(kt,T,q,!1,null,"541c2dc8",null)),Pt=Ot.exports,jt=[{path:"/home",name:"home",component:Pt,meta:{title:"Dashboard",description:"Resumo dos principais registros no sistema.",requiresAuth:!0}}],It=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main"},[n("div",{staticClass:"login"},[n("div",{staticClass:"content-login"},[t._m(0),n("div",{staticClass:"form"},[n("form",[n("div",{staticClass:"form-group"},[n("label",{attrs:{for:"exampleInputEmail1"}},[t._v("E-mail")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1",placeholder:"Enter email"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),n("div",{staticClass:"form-group mt-3"},[n("label",{attrs:{for:"exampleInputPassword1"}},[t._v("Senha")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",id:"exampleInputPassword1",placeholder:"Password"},domProps:{value:t.password},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),n("button",{staticClass:"btn btn-primary mt-2",attrs:{type:"submit"},on:{click:function(e){return e.preventDefault(),t.login(e)}}},[t._v("Entrar")])])])])])])},Dt=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("header",[n("h1",[t._v("Login do sistema")])])}],Lt={login:function(t){return new Promise((function(e,n){I.a.post("/login",t).then((function(t){localStorage.setItem("aguaritmo.user",JSON.stringify(t.data.user)),localStorage.setItem("aguaritmo.access_token",t.data.access_token),e(t)})).catch((function(t){n(t)}))}))}},Rt=Lt,Tt={name:"LoginComponent",data:function(){return{email:"",password:""}},methods:{login:function(){var t=this,e={email:this.email,password:this.password};Rt.login(e).then((function(){t.$router.push({name:"home"})})).catch((function(t){console.log(t)}))}}},qt=Tt,Ut=(n("a769"),Object(C["a"])(qt,It,Dt,!1,null,"7f31b670",null)),Nt=Ut.exports,Bt=[{path:"/login",name:"login",component:Nt}],Vt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("ListsComponent",{attrs:{data:t.users,columns:t.columnsList,route_btn:"user_create"},on:{filter:t.filter,show:t.show,destroy:t.destroy}})],1)])])},Ft=[],zt=(n("caad"),n("2532"),n("4d90"),{computed:{},methods:{limitCaracters:function(t,e){return t.length>=e?t.substring(0,e)+"...":t},stringSeparator:function(){},toastMessage:function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"error";if("success"===n)if("string"===typeof t)this.$noty.success(t);else for(e in t)this.$noty.error(t[e]);else if("error"===n)if(void 0===t)this.$noty.error("Erro inesperado, tente novamente!");else if("string"===typeof t)this.$noty.error(t);else for(e in t)this.$noty.error(t[e])},alertConfirmation:function(t,e,n){var a=this,s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return new Promise((function(o,i){a.$fire({title:t,text:e,type:n,showCancelButton:s}).then((function(t){void 0===t.value&&o(!1),o(!0)})).catch((function(t){i(t)}))}))},datePT:function(t){if(t&&t.length>=10)return t.substring(8,10)+"/"+t.substring(5,7)+"/"+t.substring(0,4)},hour:function(t){if(t&&t.length>=11)return t.substring(11,13)+":"+t.substring(14,16)},dateHourPT:function(t){if(t&&t.length>=10)return"".concat(t.substring(8,10),"/").concat(t.substring(5,7),"/").concat(+t.substring(2,4)," ").concat(t.substring(11,13),":").concat(t.substring(14,16))},filterSearch:function(t,e,n){if(t.length>0){for(var a=[],s=0;s<this[e].length;s++){t=t.toLowerCase();for(var o="",i=0;i<n.length;i++)o+=" ".concat(this.data_list[s][n[i]].toLowerCase());this[e]=this.data_list,console.log(o),o.includes(t)&&a.push(this[e][s])}this[e]=a}else this[e]=this.data_list},changeSelect:function(t){var e=t.value,n=t.model,a=t.attribute;n[a]=parseInt(e),"function"==typeof this.changeSelectLocal&&this.changeSelectLocal(t)},currentDate:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en",e=new Date,n=String(e.getDate()).padStart(2,"0"),a=String(e.getMonth()+1).padStart(2,"0"),s=e.getFullYear();return"pt"===t?"".concat(n,"/").concat(a,"/").concat(s):"".concat(s,"-").concat(a,"-").concat(n)}}}),Ht=zt,Jt={getAllUsers:function(){return new Promise((function(t,e){I.a.get("/users").then((function(e){t(e)})).catch((function(t){e(t)}))}))},getUser:function(t){return new Promise((function(e,n){I.a.get("/users/".concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))},create:function(t){return new Promise((function(e,n){I.a.post("/users",t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},update:function(t){return new Promise((function(e,n){I.a.put("/users/".concat(t.id),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},delete:function(t){return new Promise((function(e,n){I.a.delete("/users/".concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))}},Gt=Jt,Qt={name:"Users",data:function(){return{data_list:[],users:[],columnsList:{id:"#",name:"Nome",email:"E-mail"}}},mounted:function(){this.getAllUsers()},mixins:[Ht],methods:{getAllUsers:function(){var t=this;Gt.getAllUsers().then((function(e){t.users=e.data.users,t.data_list=e.data.users})).catch((function(t){console.log(t)}))},show:function(t){this.$router.push({name:"users_show",params:{id:t,action:"update"},props:{action:"update"}})},destroy:function(t){var e=this;this.alertConfirmation("Excluir usuário","Você realmente deseja excluir este usuário?","question").then((function(n){n&&Gt.delete(t).then((function(){e.toastMessage("Excluído com sucesso.","success"),e.getAllUsers()})).catch((function(t){500==t.response.status?e.toastMessage(t.response.data.message):e.toastMessage("Erro ao excluir o usuário.")}))}))},filter:function(t){this.filterSearch(t,"users","name")}},components:{DashboardComponent:nt,ListsComponent:At}},Zt=Qt,Yt=(n("c523"),Object(C["a"])(Zt,Vt,Ft,!1,null,"4d852489",null)),Kt=Yt.exports,Wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("div",{staticClass:"content-header"}),n("div",{staticClass:"content-body"},[n("form",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-3"},[n("InputComponent",{attrs:{label:"Nome",name:"name",id:"nome",model:t.user}})],1),n("div",{staticClass:"col-3"},[n("InputComponent",{attrs:{label:"E-mail",name:"email",id:"email",model:t.user}})],1),n("div",{staticClass:"col-3"},[n("InputComponent",{attrs:{input_type:"password",label:"Senha",name:"password",id:"password",model:t.user}})],1),n("div",{staticClass:"col-3"},[n("InputComponent",{attrs:{input_type:"password",label:"Repita a Senha",name:"confirm_password",id:"confirm_password+",model:t.user}})],1)])])]),n("div",{staticClass:"content-footer"},[n("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"users"},title:"voltar"}},[n("i",{staticClass:"fa fa-reply-all"}),t._v(" voltar ")]),n("button",{staticClass:"btn btn-success btn-sm mx-2",attrs:{title:"confirmar alterações"},on:{click:function(e){return t.confirm()}}},[n("i",{staticClass:"fa fa-check"}),t._v(" confirmar ")])],1)])])])},Xt=[],te={name:"UserCreate",mixins:[Ht],props:{action:{type:String,default:"create"}},data:function(){return{user:{}}},mounted:function(){this.getUser()},methods:{getUser:function(){var t=this,e=this.$route.params.id;e&&Gt.getUser(e).then((function(e){t.user=e.data.user})).catch((function(t){console.log(t)}))},confirm:function(){this[this.action]()},create:function(){var t=this;this.user.type="D",Gt.create(this.user).then((function(){t.toastMessage("Realizadom com sucesso.","success"),t.$router.push({name:"users"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))},update:function(){var t=this,e={id:this.user.id,name:this.user.name,email:this.user.email,password:this.user.password};Gt.update(e).then((function(){t.toastMessage("Realizadom com sucesso.","success"),t.$router.push({name:"users"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))}},components:{DashboardComponent:nt,InputComponent:St}},ee=te,ne=(n("af7d"),Object(C["a"])(ee,Wt,Xt,!1,null,"a5f4057c",null)),ae=ne.exports,se="/usuarios",oe=[{path:"".concat(se),name:"users",component:Kt,meta:{title:"Usuários",description:"Lista de todos os usuários cadastrados no sistema.",requiresAuth:!0}},{path:"".concat(se,"/:id"),name:"users_show",component:ae,props:!0,meta:{title:"Usuário selecionado",description:"Exibe todos os dados do usuário selecionado.",requiresAuth:!0}},{path:"".concat(se,"/novo-usuario"),name:"user_create",component:ae,meta:{title:"Novo Usuário",description:"Preencha todos os dados para cadastrar um novo usuário.",requiresAuth:!0}}],ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("ListsComponent",{attrs:{data:t.modalities,columns:t.columnsList,route_btn:"modality_create"},on:{filter:t.filter,show:t.show,destroy:t.destroy}})],1)])])},ce=[],re=(n("a4d3"),n("e01a"),n("4160"),n("159b"),"/modalities"),le={index:function(){return new Promise((function(t,e){I.a.get("".concat(re)).then((function(e){t(e)})).catch((function(t){e(t)}))}))},show:function(t){return new Promise((function(e,n){I.a.get("".concat(re,"/").concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))},store:function(t){return new Promise((function(e,n){I.a.post("".concat(re),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},update:function(t){return new Promise((function(e,n){I.a.put("".concat(re,"/").concat(t.id),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},delete:function(t){return new Promise((function(e,n){I.a.delete("".concat(re,"/").concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))},formatDataInSelect:function(t){var e=[];return t.forEach((function(t){e.push({id:t.id,text:t.description})})),e}},ue=le,de={name:"Modalities",data:function(){return{data_list:[],modalities:[],columnsList:{id:"#",description:"Descrição",price:"Preço"}}},mounted:function(){this.getAll()},mixins:[Ht],methods:{getAll:function(){var t=this;ue.index().then((function(e){t.modalities=e.data.modalities,t.data_list=e.data.modalities})).catch((function(t){console.log(t)}))},show:function(t){this.$router.push({name:"modality_show",params:{id:t,action:"update"}})},destroy:function(t){var e=this;this.alertConfirmation("Excluir modalidade","Você realmente deseja excluir esta modalidade?","question").then((function(n){n&&ue.delete(t).then((function(){e.toastMessage("Excluído com sucesso.","success"),e.getAll()})).catch((function(t){500==t.response.status?e.toastMessage(t.response.data.message):e.toastMessage("Erro ao excluir a modalidade.")}))}))},filter:function(t){this.filterSearch(t,"modalities","description")}},components:{DashboardComponent:nt,ListsComponent:At}},me=de,pe=(n("5e91"),Object(C["a"])(me,ie,ce,!1,null,"19e1c61e",null)),fe=pe.exports,he=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("div",{staticClass:"content-header"}),n("div",{staticClass:"content-body"},[n("form",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-6"},[n("InputComponent",{attrs:{label:"Descrição",name:"description",id:"description",model:t.modality}})],1),n("div",{staticClass:"col-3"},[n("label",{attrs:{for:"price"}},[t._v("Preço")]),n("Money",t._b({staticClass:"form-control",attrs:{id:"price",name:"price",value:t.price},model:{value:t.modality.price,callback:function(e){t.$set(t.modality,"price",e)},expression:"modality.price"}},"Money",t.money,!1))],1)])])]),n("div",{staticClass:"content-footer"},[n("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"modalities"},title:"voltar"}},[n("i",{staticClass:"fa fa-reply-all"}),t._v(" voltar ")]),n("button",{staticClass:"btn btn-success btn-sm mx-2",attrs:{title:"confirmar alterações"},on:{click:function(e){return t.confirm()}}},[n("i",{staticClass:"fa fa-check"}),t._v(" confirmar ")])],1)])])])},ve=[],ge=(n("7db0"),n("716b")),_e={name:"ModalityCreate",mixins:[Ht],props:{action:{type:String,default:"create"}},data:function(){return{money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},modality:{},price:0}},mounted:function(){"create"!=this.action&&this.find()},methods:{find:function(){var t=this,e=this.$route.params.id;e&&ue.show(e).then((function(e){t.modality=e.data.modality})).catch((function(t){console.log(t)}))},confirm:function(){console.log(this.action),this[this.action]()},create:function(){var t=this;ue.store(this.modality).then((function(){t.toastMessage("Realizado com sucesso.","success"),t.$router.push({name:"modalities"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))},update:function(){var t=this,e={id:this.modality.id,description:this.modality.description,price:this.modality.price};ue.update(e).then((function(){t.toastMessage("Realizadom com sucesso.","success"),t.$router.push({name:"modalities"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))}},components:{Money:ge["Money"],DashboardComponent:nt,InputComponent:St}},be=_e,Ce=(n("4967"),Object(C["a"])(be,he,ve,!1,null,"0f902a06",null)),ye=Ce.exports,we="/modalidades",Se=[{path:"".concat(we),name:"modalities",component:fe,meta:{title:"Modalidades",description:"Lista de todos as modalidades cadastradas no sistema.",requiresAuth:!0}},{path:"".concat(we,"/:id"),name:"modality_show",component:ye,props:!0,meta:{title:"Modalidade selecionada",description:"Exibe todos os dados da modalidade selecionada.",requiresAuth:!0}},{path:"".concat(we,"/nova-modalidade"),name:"modality_create",component:ye,meta:{title:"Nova modalidade",description:"Preencha todos os dados para cadastrar uma nova modalidade.",requiresAuth:!0}}],xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("ListsComponent",{attrs:{data:t.customers,columns:t.columnsList,route_btn:"customer_create"},on:{filter:t.filter,show:t.show,destroy:t.destroy}})],1)])])},$e=[],Me="/customers",Ae={index:function(){return new Promise((function(t,e){I.a.get("".concat(Me)).then((function(e){t(e)})).catch((function(t){e(t)}))}))},show:function(t){return new Promise((function(e,n){I.a.get("".concat(Me,"/").concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))},store:function(t){return new Promise((function(e,n){I.a.post("".concat(Me),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},update:function(t){return new Promise((function(e,n){I.a.put("".concat(Me,"/").concat(t.id),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},delete:function(t){return new Promise((function(e,n){I.a.delete("".concat(Me,"/").concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))},formatDataInSelect:function(t){var e=[];return t.forEach((function(t){e.push({id:t.id,text:t.name})})),e}},Ee=Ae,ke={name:"Customers",data:function(){return{data_list:[],customers:[],columnsList:{id:"#",name:"Nome",email:"E-mail",cell_phone:"Celular"}}},mounted:function(){this.getAll()},mixins:[Ht],methods:{getAll:function(){var t=this;Ee.index().then((function(e){t.customers=e.data.customers,t.data_list=e.data.customers})).catch((function(t){console.log(t)}))},show:function(t){this.$router.push({name:"customer_show",params:{id:t,action:"update"}})},destroy:function(t){var e=this;this.alertConfirmation("Excluir cliente","Você realmente deseja excluir este cliente?","question").then((function(n){n&&Ee.delete(t).then((function(){e.toastMessage("Excluído com sucesso.","success"),e.getAll()})).catch((function(t){500==t.response.status?e.toastMessage(t.response.data.message):e.toastMessage("Erro ao excluir o cliente.")}))}))},filter:function(t){this.filterSearch(t,"customers","name")}},components:{DashboardComponent:nt,ListsComponent:At}},Oe=ke,Pe=(n("e13a"),Object(C["a"])(Oe,xe,$e,!1,null,"028cb65c",null)),je=Pe.exports,Ie=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("div",{staticClass:"content-header"}),n("div",{staticClass:"content-body"},[n("form",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},[n("InputComponent",{attrs:{label:"Nome",name:"name",id:"name",model:t.customer}})],1),n("div",{staticClass:"col-4"},[n("InputComponent",{attrs:{label:"E-mail",name:"email",id:"email",model:t.customer}})],1),n("div",{staticClass:"col-4"},[n("InputComponent",{directives:[{name:"mask",rawName:"v-mask",value:"(##)#####-####",expression:"'(##)#####-####'"}],attrs:{label:"Celular",name:"cell_phone",id:"cell_phone",model:t.customer}})],1)])])]),n("div",{staticClass:"content-footer"},[n("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"customers"},title:"voltar"}},[n("i",{staticClass:"fa fa-reply-all"}),t._v(" voltar ")]),n("button",{staticClass:"btn btn-success btn-sm mx-2",attrs:{title:"confirmar alterações"},on:{click:function(e){return t.confirm()}}},[n("i",{staticClass:"fa fa-check"}),t._v(" confirmar ")])],1)])])])},De=[],Le={name:"CustomerCreate",mixins:[Ht],props:{action:{type:String,default:"create"}},data:function(){return{customer:{}}},mounted:function(){"create"!=this.action&&this.find()},methods:{find:function(){var t=this,e=this.$route.params.id;e&&Ee.show(e).then((function(e){t.customer=e.data.customer})).catch((function(t){console.log(t)}))},confirm:function(){this[this.action]()},create:function(){var t=this;Ee.store(this.customer).then((function(){t.toastMessage("Realizado com sucesso.","success"),t.$router.push({name:"customers"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))},update:function(){var t=this,e={id:this.customer.id,name:this.customer.name,email:this.customer.email,cell_phone:this.customer.cell_phone};Ee.update(e).then((function(){t.toastMessage("Realizadom com sucesso.","success"),t.$router.push({name:"customers"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))}},components:{DashboardComponent:nt,InputComponent:St}},Re=Le,Te=(n("6a0c"),Object(C["a"])(Re,Ie,De,!1,null,"209aceaa",null)),qe=Te.exports,Ue="/customers",Ne=[{path:"".concat(Ue),name:"customers",component:je,meta:{title:"Clientes",description:"Lista de todos os clientes cadastrados no sistema.",requiresAuth:!0}},{path:"".concat(Ue,"/:id"),name:"customer_show",component:qe,props:!0,meta:{title:"Cliente selecionado",description:"Exibe todos os dados do cliente selecionado.",requiresAuth:!0}},{path:"".concat(Ue,"/novo-cliente"),name:"customer_create",component:qe,meta:{title:"Novo cliente",description:"Preencha todos os dados para cadastrar um novo cliente.",requiresAuth:!0}}],Be=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("ListsComponent",{attrs:{data:t.enrollments,columns:t.columnsList,route_btn:"enrollment_create",noActions:""},on:{filter:t.filter,show:t.show,destroy:t.destroy}})],1)])])},Ve=[],Fe=[{id:1,text:"Não Pago",value:"unpaid"},{id:2,text:"Pago",value:"paid"}],ze=[{installment_status:Fe}];function He(t,e){if(e&&ze[0][t]){var n=ze[0][t].find((function(t){return t.value===e}));return n&&n.text||""}return""}var Je="/enrollments",Ge={index:function(){var t=this;return new Promise((function(e,n){I.a.get("".concat(Je)).then((function(n){t.formatResponseData(n.data.enrollments),e(n)})).catch((function(t){n(t)}))}))},show:function(t){var e=this;return new Promise((function(n,a){I.a.get("".concat(Je,"/").concat(t)).then((function(t){e.formatResponseData(t.data.enrollment,"row"),n(t)})).catch((function(t){a(t)}))}))},store:function(t){return new Promise((function(e,n){I.a.post("".concat(Je),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},update:function(t){return new Promise((function(e,n){I.a.put("".concat(Je,"/").concat(t.id),t).then((function(t){e(t)})).catch((function(t){n(t)}))}))},delete:function(t){return new Promise((function(e,n){I.a.delete("".concat(Je,"/").concat(t)).then((function(t){e(t)})).catch((function(t){n(t)}))}))},pay:function(t){var e=t.total_paid,n=t.discount,a=t.paid_date,s=t.status,o={total_paid:e,discount:n,paid_date:a,status:s};return new Promise((function(e,n){I.a.put("".concat(Je,"/installment/").concat(t.id),o).then((function(t){e(t)})).catch((function(t){n(t)}))}))},reversePayment:function(t){var e=t.total_paid,n=t.discount,a=t.paid_date,s=t.status,o={total_paid:e,discount:n,paid_date:a,status:s};return new Promise((function(e,n){I.a.put("".concat(Je,"/installment/").concat(t.id),o).then((function(t){e(t)})).catch((function(t){n(t)}))}))},formatResponseData:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"table",a=function(t){t.price="R$ ".concat(t.price),t.installments&&t.installments.forEach((function(t){t.price_formated="R$ ".concat(t.price),t.discount_formated="R$ ".concat(t.discount),t.total_paid_formated=t.total_paid?"R$ ".concat(t.total_paid):"",t.due_date="".concat(t.due_date.substr(8,2),"/").concat(t.due_date.substr(5,2),"/").concat(t.due_date.substr(0,4)),t.paid_date&&(t.paid_date="".concat(t.paid_date.substr(8,2),"/").concat(t.paid_date.substr(5,2),"/").concat(t.paid_date.substr(0,4))),t.status_formated=e.getInstallmentStatusText(t.status)}))},s={};return"table"==n?(t.forEach((function(t){a(t)})),s={data:t},s):(a(t),s)},getInstallmentStatusText:function(t){return t?He("installment_status",t):""}},Qe=Ge,Ze={name:"Enrollments",data:function(){return{data_list:[],enrollments:[],columnsList:{id:"#",customer_name:"Cliente",modality_description:"Modalidade",price:"Valor",maturity_day:"Venc."}}},mounted:function(){this.getAll()},mixins:[Ht],methods:{getAll:function(){var t=this;Qe.index().then((function(e){t.enrollments=e.data.enrollments,t.data_list=e.data.enrollments})).catch((function(t){console.log(t)}))},show:function(t){this.$router.push({name:"enrollment_show",params:{id:t,action:"update"}})},destroy:function(t){var e=this;this.alertConfirmation("Excluir matrícula","Você realmente deseja excluir esta matrícula?","question").then((function(n){n&&Qe.delete(t).then((function(){e.toastMessage("Excluído com sucesso.","success"),e.getAll()})).catch((function(t){500==t.response.status?e.toastMessage(t.response.data.message):e.toastMessage("Erro ao excluir o cliente.")}))}))},filter:function(t){this.filterSearch(t,"enrollments",["customer_name","modality_description"])}},components:{DashboardComponent:nt,ListsComponent:At}},Ye=Ze,Ke=(n("c2d5"),Object(C["a"])(Ye,Be,Ve,!1,null,"4df86e18",null)),We=Ke.exports,Xe=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("DashboardComponent",[n("div",{staticClass:"content-pages",attrs:{slot:"slot-pages"},slot:"slot-pages"},[n("header",{staticClass:"title_pages"},[n("h2",[t._v(t._s(this.$route.meta.title))]),n("p",[t._v(t._s(this.$route.meta.description))])]),n("section",{staticClass:"content-main-pages"},[n("div",{staticClass:"content-header"}),n("div",{staticClass:"content-body"},[n("div",{staticClass:"content-form"},[n("form",[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},[n("SelectComponent",{attrs:{attribute:"customer_id",label:"Cliente",itemSelected:t.enrollment.customer_id,data:t.data_select_customers,model:t.enrollment},on:{changeSelect:t.changeSelect}})],1),n("div",{staticClass:"col-4"},[n("SelectComponent",{attrs:{attribute:"modality_id",label:"Modalidades",itemSelected:t.enrollment.modality_id,data:t.data_select_modalities,model:t.enrollment},on:{changeSelect:t.changeSelect}})],1),n("div",{staticClass:"col-4"},[n("label",{attrs:{for:"price"}},[t._v("Preço")]),n("Money",t._b({staticClass:"form-control",attrs:{id:"price",name:"price"},model:{value:t.enrollment.price,callback:function(e){t.$set(t.enrollment,"price",e)},expression:"enrollment.price"}},"Money",t.money,!1))],1)]),n("div",{staticClass:"row mt-3"},[n("div",{staticClass:"col-4"},[n("label",{attrs:{for:"price"}},[t._v("Desconto")]),n("Money",t._b({staticClass:"form-control",attrs:{id:"discount",name:"discount"},model:{value:t.enrollment.discount,callback:function(e){t.$set(t.enrollment,"discount",e)},expression:"enrollment.discount"}},"Money",t.money,!1))],1),n("div",{staticClass:"col-4"},[n("InputComponent",{attrs:{label:"Vencimento",name:"due_day",id:"due_day",input_type:"number",model:t.enrollment}})],1)])])]),"create"!=t.action?n("div",{staticClass:"content-installment"},[n("hr"),n("h3",[t._v("Parcelas")]),n("ListsComponent",{attrs:{data:t.enrollment.installments,columns:t.columnsList,route_btn:"enrollment_create",titleCreate:"Nova Parcela",noFilter:"",noShow:""},on:{functionActions:t.functionActions,destroy:t.destroy}}),n("ModalActionsComponent",{ref:"modalActions",attrs:{installmentSelected:t.installmentSelected},on:{paidInstallment:t.paidInstallment,cancelInstallment:t.cancelInstallment}})],1):t._e()]),n("div",{staticClass:"content-footer"},[n("router-link",{staticClass:"btn btn-primary btn-sm",attrs:{to:{name:"enrollments"},title:"voltar"}},[n("i",{staticClass:"fa fa-reply-all"}),t._v(" voltar ")]),n("button",{staticClass:"btn btn-success btn-sm mx-2",attrs:{title:"confirmar alterações"},on:{click:function(e){return t.confirm()}}},[n("i",{staticClass:"fa fa-check"}),t._v(" confirmar ")])],1)])])])},tn=[],en=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("label",{attrs:{for:t.attribute}},[t._v(t._s(t.label))]),n("select",{ref:t.attribute,staticClass:"form-control",attrs:{name:"",id:t.attribute},on:{change:function(e){return t.changeSelect()}}},[n("option",{attrs:{value:""}}),t._l(t.data,(function(e,a){return n("option",{key:a,domProps:{value:e.id,selected:t.itemSelected&&e.id==t.itemSelected}},[t._v(" "+t._s(e.text)+" ")])}))],2)])},nn=[],an=(n("a9e3"),{name:"Select",props:{label:{type:String,default:""},attribute:{type:String},model:{type:Object},data:{type:Array},itemSelected:{type:Number,default:0}},data:function(){return{}},methods:{changeSelect:function(){var t={value:this.$refs[this.attribute].value,model:this.model,attribute:this.attribute};this.$emit("changeSelect",t)}}}),sn=an,on=Object(C["a"])(sn,en,nn,!1,null,null,null),cn=on.exports,rn=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("button",{ref:"btnModal",staticClass:"d-none",attrs:{type:"button","data-toggle":"modal","data-target":".bd-example-modal-lg"}}),n("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:"exampleModalCenter",tabindex:"-1",role:"dialog","aria-labelledby":"myLargeModalLabel","aria-hidden":"true"}},[n("div",{staticClass:"modal-dialog modal-dialog-centered modal-lg",attrs:{role:"document"}},[n("div",{staticClass:"modal-content"},[t._m(0),n("div",{staticClass:"modal-body"},[n("form",{attrs:{action:""}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-4"},[n("InputComponent",{attrs:{label:"Data Pagt.",name:"paid_date",id:"paid_date",model:t.installmentSelected,input_type:"date"}})],1),n("div",{staticClass:"col-4"},[n("label",{attrs:{for:"price"}},[t._v("Valor")]),n("Money",t._b({staticClass:"form-control",attrs:{value:t.installmentSelected.price,readonly:""}},"Money",t.money,!1))],1),n("div",{staticClass:"col-4"},[n("label",{attrs:{for:"price"}},[t._v("Diferença")]),n("Money",t._b({staticClass:"form-control",attrs:{name:"discount"},model:{value:t.installmentSelected.discount,callback:function(e){t.$set(t.installmentSelected,"discount",e)},expression:"installmentSelected.discount"}},"Money",t.money,!1))],1)]),n("div",{staticClass:"row mt-4"},[n("div",{staticClass:"col-4"},[n("label",{attrs:{for:"price"}},[t._v("Total a pagar")]),n("Money",t._b({staticClass:"form-control",model:{value:t.installmentSelected.total_paid,callback:function(e){t.$set(t.installmentSelected,"total_paid",e)},expression:"installmentSelected.total_paid"}},"Money",t.money,!1))],1)])])]),n("div",{staticClass:"modal-footer"},[n("button",{staticClass:"btn btn-primary btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.paidInstallment()}}},[t._v("Pagar Parcela")]),n("button",{staticClass:"btn btn-danger btn-sm",attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.cancelInstallment()}}},[t._v("Cancelar Parcela")])])])])])])},ln=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal-header"},[n("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v("O que voçê deseja fazer?")]),n("button",{staticClass:"btn btn-secondary btn-sm",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[n("i",{staticClass:"fa fa-times"})])])}],un={name:"ModalActions",props:{installmentSelected:{type:Object}},data:function(){return{money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1}}},mixins:[Ht],methods:{paidInstallment:function(){this.$emit("paidInstallment")},cancelInstallment:function(){this.$emit("cancelInstallment")}},components:{Money:ge["Money"],InputComponent:St}},dn=un,mn=Object(C["a"])(dn,rn,ln,!1,null,null,null),pn=mn.exports,fn={name:"EnrollmentCreate",mixins:[Ht],props:{action:{type:String,default:"create"}},watch:Object($["a"])({},"installmentSelected.discount",(function(){this.installmentSelected.total_paid=parseFloat(this.installmentSelected.price)+parseFloat(this.installmentSelected.discount)})),data:function(){return{columnsList:{id:"#",due_date:"Vencimento",paid_date:"Data Pgto",price_formated:"Valor",discount_formated:"Diferença",total_paid_formated:"Total Pago",status_formated:"Status"},money:{decimal:",",thousands:".",prefix:"R$ ",suffix:"",precision:2,masked:!1},enrollment:{customer_id:0,modality_id:0,price:"",discount:"",due_day:"",status:"paid"},installmentSelected:{price:0,discount:0,total_paid:0},data_select_customers:[],data_select_modalities:[]}},mounted:function(){this.getCustomers(),this.getModalities(),"create"!=this.action&&this.find()},methods:{getCustomers:function(){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Ee.index().then((function(e){t.data_select_customers=Ee.formatDataInSelect(e.data.customers)})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},getModalities:function(){var t=this;return Object(P["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,ue.index().then((function(e){t.data_select_modalities=ue.formatDataInSelect(e.data.modalities)})).catch((function(t){console.log(t)}));case 2:case"end":return e.stop()}}),e)})))()},find:function(){var t=this,e=this.$route.params.id;e&&Qe.show(e).then((function(e){t.enrollment=e.data.enrollment})).catch((function(t){console.log(t)}))},confirm:function(){this[this.action]()},create:function(){var t=this;Qe.store(this.enrollment).then((function(){t.toastMessage("Realizado com sucesso.","success"),t.$router.push({name:"enrollments"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))},update:function(){var t=this,e={id:this.enrollment.id,name:this.enrollment.name,email:this.enrollment.email,cell_phone:this.enrollment.cell_phone};Qe.update(e).then((function(){t.toastMessage("Realizado com sucesso.","success"),t.$router.push({name:"enrollments"})})).catch((function(e){422===e.response.status?t.toastMessage(e.response.data.errors):t.toastMessage("Ocorreu um erro. Tente novamente!")}))},destroy:function(t){var e=this;this.alertConfirmation("Excluir parcela","Você realmente deseja excluir esta parcela?","question").then((function(n){n&&Qe.destroyInstallment(t).then((function(){e.toastMessage("Excluído com sucesso.","success"),e.find()})).catch((function(t){500==t.response.status?e.toastMessage(t.response.data.message):e.toastMessage("Erro ao exclui a parcela.")}))}))},changeSelectLocal:function(t){var e=this,n=t.attribute,a=t.value;"modality_id"==n&&ue.show(a).then((function(t){e.enrollment.price=t.data.modality.price})).catch((function(t){console.log(t)}))},functionActions:function(t){this.installmentSelected=t,this.installmentSelected.paid_date=this.currentDate(),this.$refs.modalActions.$refs.btnModal.click()},paidInstallment:function(){var t=this,e=this.installmentSelected,n=e.id,a=e.total_paid,s=e.discount,o=e.paid_date,i=e.status;if("paid"!==i){var c={id:n,total_paid:a,discount:s,paid_date:o,status:"paid"};Qe.pay(c).then((function(){t.find(),t.$refs.modalActions.$refs.btnModal.click()})).catch((function(t){console.log(t)}))}else this.toastMessage("A parcela já está paga.")},cancelInstallment:function(){var t=this,e=this.installmentSelected,n=e.id,a=e.status;if("unpaid"!==a){var s={id:n,total_paid:null,discount:0,paid_date:null,status:"unpaid"};this.alertConfirmation("Cancelar pagamemto","Você realmente deseja cancelar este pagamento?","question").then((function(e){e&&Qe.reversePayment(s).then((function(){t.$refs.modalActions.$refs.btnModal.click(),t.toastMessage("Cancelado com sucesso.","success"),t.find()})).catch((function(e){500==e.response.status?t.toastMessage(e.response.data.message):t.toastMessage("Erro ao cancelar o pagamento.")}))}))}else this.toastMessage("Não é possível cancelar uma parcela em aberto.")}},components:{DashboardComponent:nt,InputComponent:St,SelectComponent:cn,Money:ge["Money"],ListsComponent:At,ModalActionsComponent:pn}},hn=fn,vn=(n("092e"),Object(C["a"])(hn,Xe,tn,!1,null,"f448fd14",null)),gn=vn.exports,_n="/Enrollments",bn=[{path:"".concat(_n),name:"enrollments",component:We,meta:{title:"Matrículas",description:"Lista de todas as matrículas cadastradas no sistema.",requiresAuth:!0}},{path:"".concat(_n,"/:id"),name:"enrollment_show",component:gn,props:!0,meta:{title:"Matrícula selecionada",description:"Exibe todos os dados da matrícula selecionada.",requiresAuth:!0}},{path:"".concat(_n,"/novo-cliente"),name:"enrollment_create",component:gn,meta:{title:"Nova matrícula",description:"Preencha todos os dados para cadastrar uma nova matrícula.",requiresAuth:!0}}],Cn=[].concat(Object(R["a"])(Bt),Object(R["a"])(jt),Object(R["a"])(oe),Object(R["a"])(Se),Object(R["a"])(Ne),Object(R["a"])(bn));c["a"].use(L["a"]);var yn=new L["a"]({routes:Cn}),wn=yn,Sn=function(t,e){var n=t.commit,a=t.dispatch;return new Promise((function(t,s){n(A),D.post("/login",e).then((function(e){var a=e.data.access_token,s=e.data.user;localStorage.setItem("aguaritmo.access_token",a),localStorage.setItem("aguaritmo.user",JSON.stringify(s)),n(E,{token:a,user:s}),n(A),n(M),t(e)})).catch((function(t){n(A),a("ActionCleanLocalStorage"),s(t)}))}))},xn=function(t){var e=t.commit,n=t.dispatch;return new Promise((function(t,a){D.post("/me").then((function(n){e(M,n.data.user),localStorage.setItem("aguaritmo.user",JSON.stringify(n.data.user)),t(n)})).catch((function(t){n("ActionLogout"),wn.push({name:"home"}),a(t)}))}))},$n=function(t){var e=t.commit,n=t.dispatch;return new Promise((function(t,a){D.post("/logout").then((function(a){e(k,{}),n("ActionCleanLocalStorage"),wn.push({name:"home"}),t(a)})).catch((function(t){e(k,{}),n("ActionCleanLocalStorage"),a(t)}))}))},Mn=function(){localStorage.removeItem("aguaritmo.access_token"),localStorage.removeItem("aguaritmo.user")},An=function(t){return!!t.access_token},En=function(t){return t.status},kn=function(t){return t.user||{}},On={state:x,actions:a,getters:s,mutations:O,namespace:!0},Pn={status:!1},jn="REGISTER/REGISTER_REQUEST",In=Object($["a"])({},jn,(function(t){t.status=!t.status})),Dn=function(t,e){var n=t.commit;return new Promise((function(t,a){n(jn);var s={type:e.type,terms:e.terms,name:e.user.name,email:e.user.email,phone:e.user.phone,password:e.user.password};D.post("/users",s).then((function(e){n(jn),t(e)})).catch((function(t){n(jn),a(t)}))}))},Ln=function(t){return t.status},Rn={state:Pn,actions:o,getters:i,mutations:In,namespace:!0},Tn={auth:On,users:Rn};c["a"].use(S["a"]);var qn=new S["a"].Store({modules:Tn});c["a"].use(p.a),c["a"].use(d["a"]),c["a"].use(h.a),c["a"].config.productionTip=!1,c["a"].directive("scroll",{inserted:function(t,e){var n=function n(a){e.value(a,t)&&window.removeEventListener("scroll",n)};window.addEventListener("scroll",n)}}),new c["a"]({store:qn,router:wn,render:function(t){return t(w)}}).$mount("#app")},5998:function(t,e,n){},"5e91":function(t,e,n){"use strict";var a=n("a0c1"),s=n.n(a);s.a},"6a0c":function(t,e,n){"use strict";var a=n("f64e"),s=n.n(a);s.a},"6b4c":function(t,e,n){},"6c17":function(t,e,n){"use strict";var a=n("6b4c"),s=n.n(a);s.a},7859:function(t,e,n){"use strict";var a=n("eb8a"),s=n.n(a);s.a},"82e5":function(t,e,n){},a0c1:function(t,e,n){},a769:function(t,e,n){"use strict";var a=n("a88b"),s=n.n(a);s.a},a88b:function(t,e,n){},af7d:function(t,e,n){"use strict";var a=n("4efa"),s=n.n(a);s.a},b422:function(t,e,n){"use strict";var a=n("370a"),s=n.n(a);s.a},b4b0:function(t,e,n){},b629:function(t,e,n){},b791:function(t,e,n){},b925:function(t,e,n){"use strict";var a=n("5998"),s=n.n(a);s.a},c2d5:function(t,e,n){"use strict";var a=n("b791"),s=n.n(a);s.a},c523:function(t,e,n){"use strict";var a=n("0032"),s=n.n(a);s.a},cf96:function(t,e,n){},e13a:function(t,e,n){"use strict";var a=n("82e5"),s=n.n(a);s.a},eb8a:function(t,e,n){},f5fa:function(t,e,n){"use strict";var a=n("b4b0"),s=n.n(a);s.a},f64e:function(t,e,n){}});
//# sourceMappingURL=app.fa4b7fc8.js.map